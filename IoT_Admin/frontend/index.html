<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="IoT κ΄€μ  μ‹μ¤ν…" />
    <meta property="article:author" content="μ†΅λ‘μ„ " />
    <meta property="og:type" content="website" />
    <title>IoT κ΄€μ  μ‹μ¤ν…</title>
    <!-- νλΉ„μ½ νλΉ„μ½ μ‚¬μ§„μ€ .icoλ΅ λ³€ν™μ„ ν•΄μ¤μ•Ό ν•λ‹¤(κµ¬κΈ€μ—μ„ μ‰½κ² κ²€μƒ‰ κ°€λ¥)-->
    <link rel="shortcut icon" href="images/favicon.ico" />
    <!-- index css -->
    <link rel="stylesheet" href="css/index.css" />
  </head>
  <body>
    <div class="container">
      <div class="nav">
        <div class="item" onclick="getDrone()">
          <div class="drone-image">
            <img src="images/drone_1.jpg" />
            <!-- λ“λ΅ (IoT) κ³ μ μ•„μ΄λ””(*UUID) -->
            <h3>KAZA-556699</h3>
            <!-- λ“λ΅  λ°°ν„°λ¦¬ μ •λ³΄ -->
            <p>λ°°ν„°λ¦¬ μ”λ‰ : <span>88%</span></p>
          </div>
        </div>
        <div class="item" onclick="getDrone()">
          <div class="drone-image">
            <img src="images/drone_2.jpg" />
            <!-- λ“λ΅ (IoT) κ³ μ μ•„μ΄λ””(*UUID) -->
            <h3>ADCC-117700</h3>
            <!-- λ“λ΅  λ°°ν„°λ¦¬ μ •λ³΄ -->
            <p>λ°°ν„°λ¦¬ μ”λ‰ : <span>70%</span></p>
          </div>
        </div>
        <div class="item" onclick="getDrone()">
          <div class="drone-image">
            <img src="images/drone_3.jpg" />
            <!-- λ“λ΅ (IoT) κ³ μ μ•„μ΄λ””(*UUID) -->
            <h3>ZOOP-411133</h3>
            <!-- λ“λ΅  λ°°ν„°λ¦¬ μ •λ³΄ -->
            <p>λ°°ν„°λ¦¬ μ”λ‰ : <span>83%</span></p>
          </div>
        </div>
        <div class="item" onclick="getDrone()">
          <div class="drone-image">
            <img src="images/drone_4.jpg" />
            <!-- λ“λ΅ (IoT) κ³ μ μ•„μ΄λ””(*UUID) -->
            <h3>SAMA-931207</h3>
            <!-- λ“λ΅  λ°°ν„°λ¦¬ μ •λ³΄ -->
            <p>λ°°ν„°λ¦¬ μ”λ‰ : <span>99%</span></p>
          </div>
        </div>
        <div class="item" onclick="getDrone()">
          <div class="drone-image">
            <img src="images/drone_5.jpg" />
            <!-- λ“λ΅ (IoT) κ³ μ μ•„μ΄λ””(*UUID) -->
            <h3>AJJK-200489</h3>
            <!-- λ“λ΅  λ°°ν„°λ¦¬ μ •λ³΄ -->
            <p>λ°°ν„°λ¦¬ μ”λ‰ : <span>89%</span></p>
          </div>
        </div>
      </div>
      <div id="kakao-map" class="map">
        <div class="drone-init">
          <a href="#" onclick="">
            <span>λ“λ΅  μ„μΉ μƒλ΅κ³ μΉ¨</span>
          </a>
        </div>
      </div>
    </div>
  </body>

  <!-- μΉ΄μΉ΄μ¤ λ§µ μ‚¬μ©μ„ μ„ν• JS-->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=3c147567fcb54d50357be4630139b81b"></script>
  <script>
    initMap();

    //λ§µ μ΄κΈ°ν™” ν•¨μ
    function initMap() {
      var mapContainer = document.getElementById('kakao-map'), // μ§€λ„λ¥Ό ν‘μ‹ν•  div
        mapOption = {
          center: new kakao.maps.LatLng(36.3286904, 127.4229992), // μ§€λ„μ μ¤‘μ‹¬μΆν‘
          level: 8, // μ§€λ„μ ν™•λ€ λ λ²¨
        };
      var map = new kakao.maps.Map(mapContainer, mapOption); // μ§€λ„λ¥Ό μƒμ„±ν•©λ‹λ‹¤

      var positions = [
        {
          content: '<div style="margin : 10px;">KAZA-556699</div>',
          latlng: new kakao.maps.LatLng(36.3286904, 127.4229992),
        },
        {
          content: '<div style="margin : 10px;">ADCC-117700</div>',
          latlng: new kakao.maps.LatLng(36.3432585, 127.4483054),
        },
        {
          content: '<div style="margin : 10px;">ZOOP-411133</div>',
          latlng: new kakao.maps.LatLng(36.2996845, 127.3169115),
        },
        {
          content: '<div style="margin : 10px;">SAMA-931207</div>',
          latlng: new kakao.maps.LatLng(36.3711638, 127.3883444),
        },
        {
          content: '<div style="margin : 10px;">AJJK-200489</div>',
          latlng: new kakao.maps.LatLng(36.4240196, 127.3958129),
        },
      ];

      // λ§μ»¤ μ—¬λ¬κ° μƒμ„±ν•κΈ°
      for (var i = 0; i < positions.length; i++) {
        // λ§μ»¤λ¥Ό μƒμ„±ν•©λ‹λ‹¤
        var marker = new kakao.maps.Marker({
          map: map,
          position: positions[i].latlng,
        });
        //μΈν¬μλ„μ° μƒμ„±ν•κΈ°
        var infowindow = new kakao.maps.InfoWindow({
          content: positions[i].content,
        });

        //μ΄λ²¤νΈ μƒμ„±ν•κΈ°
        //Listenerλ€ μ΄λ²¤νΈλ¥Ό μ¤€λΉ„ν•λ”κ±Έ μλ―Έ
        kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
        kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
      }
    }

    /*
      μλ°”μ¤ν¬λ¦½νΈ λ©”μ†λ“ νΉμ§•π

      function ν•¨μμ΄λ¦„(μ‚¬κ³Ό){

      }

      1. λ¦¬ν„΄νƒ€μ…μ΄ μ—†λ‹¤
      2. νλΌλ―Έν„° νƒ€μ…μ΄ μ—†λ‹¤
      3. λ¦¬ν„΄μ— ν•¨μλ¥Ό μ‘μ„±ν•  μ μμ(ν΄λ΅μ €)
    */

    //μΈν¬ μλ„μ° μƒμ„±
    function makeOverListener(map, marker, infowindow) {
      return function () {
        infowindow.open(map, marker);
      };
    }
    //μΈν¬ μλ„μ° λ‹«κΈ°
    function makeOutListener(infowindow) {
      return function () {
        infowindow.close();
      };
    }

    //λ“λ΅  μƒμ„Ένμ΄μ§€ μ΄λ™
    function getDrone() {
      location.href = './components/detail.html';
    }
  </script>
</html>
